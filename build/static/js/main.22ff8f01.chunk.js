(this.webpackJsonpcontact_app=this.webpackJsonpcontact_app||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(1),o=n(0),r=n.n(o),u=n(5),l=n.n(u),m=n(6);function i(){return(i=Object(m.a)(l.a.mark((function e(t){var n,a,c,o,r,u=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,c={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InNhdWNlMDA3IiwiaWF0IjoxNjA2MDczMjU2LCJleHAiOjE2MDY2NzgwNTZ9.c4yD6Onw7KskEKWPF33spWw8gEdtDN-JUKUWrg3CdtI"}},a&&(c.body=JSON.stringify(a)),e.next=6,fetch(t,c);case 6:return o=e.sent,e.next=9,o.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var s=function(e){return i.apply(this,arguments)},p=["personal","other","work"],b=function(e){var t=e.addContact,n=Object(o.useState)(p[0]),a=Object(c.a)(n,2),u=a[0],l=a[1],m=Object(o.useState)(""),i=Object(c.a)(m,2),b=i[0],f=i[1],h=Object(o.useState)(""),v=Object(c.a)(h,2),E=v[0],d=v[1],C=Object(o.useState)(""),g=Object(c.a)(C,2),O=g[0],j=g[1],y=Object(o.useState)(""),k=Object(c.a)(y,2),S=k[0],N=k[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();s("https://univ-contact-book.herokuapp.com/api/contacts","POST",{contactType:u,name:b,email:E,address:O,phoneNumber:S}).then((function(e){t(e.contact)})).catch((function(e){console.error("error submitting new contact form",e)}))}},r.a.createElement("h1",null,"Add New Contact"),r.a.createElement("label",null,"Contact Type"),r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:b,onChange:function(e){return f(e.target.value)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",value:E,onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",null,"Address"),r.a.createElement("input",{type:"text",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement("label",null,"Phone Number"),r.a.createElement("input",{type:"text",value:S,onChange:function(e){return N(e.target.value)}}),r.a.createElement("select",{value:u,onChange:function(e){return l(e.target.value)}},p.map((function(e,t){})),";"),";",r.a.createElement("button",null,"Submit"),";")},f=["personal","other","work"],h=function(e){var t=e.activeContact,n=e.replaceContact,a=e.wipeActiveContact,u=Object(o.useState)(t.contactType),l=Object(c.a)(u,2),m=l[0],i=l[1],p=Object(o.useState)(t.name),b=Object(c.a)(p,2),h=b[0],v=b[1],E=Object(o.useState)(t.email),d=Object(c.a)(E,2),C=d[0],g=d[1],O=Object(o.useState)(t.address),j=Object(c.a)(O,2),y=j[0],k=j[1],S=Object(o.useState)(t.phoneNumber),N=Object(c.a)(S,2),w=N[0],x=N[1];return Object(o.useEffect)((function(){i(t.contactType),v(t.name),g(t.email),k(t.address),x(t.phoneNumber)}),[t]),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();s("https://univ-contact-book.herokuapp.com/api/contacts/${activeContact.id}","PATCH",{contactType:m,name:h,email:C,address:y,phoneNumber:w}).then((function(e){n(t,e.contact),a()})).catch((function(e){console.error("error editing new contact form",e)}))}},";",r.a.createElement("h1",null,"Edit Contact"),r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",value:h,onChange:function(e){return v(e.target.value)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",value:C,onChange:function(e){return g(e.target.value)}}),r.a.createElement("label",null,"Address"),r.a.createElement("input",{type:"text",value:y,onChange:function(e){return k(e.target.value)}}),r.a.createElement("label",null,"Phone Number"),r.a.createElement("input",{type:"text",value:w,onChange:function(e){return x(e.target.value)}}),r.a.createElement("select",{value:m,onChange:function(e){return i(e.target.value)}},f.map((function(e,t){})),";"),";",r.a.createElement("button",null,"Finish Editing"),r.a.createElement("button",{onClick:a},"Cancel Editing"),");")},v=function(e){var t=e.comments,n=e.contact,a=e.removeComment;return t.length?r.a.createElement("div",null,r.a.createElement("h3",null,n.name,"'s comments"),t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.contents),r.a.createElement("button",{onClick:function(){s("https://univ-contact-book.herokuapp.com/api/comments/${comment.id}","delete").then((function(t){a(n,e)})).catch((function(e){console.error("error removing comments",e)}))}},"Delete"))}))):null},E=function(e){var t=e.contact,n=e.addComment,a=Object(o.useState)(""),u=Object(c.a)(a,2),l=u[0],m=u[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();s("https://univ-contact-book.herokuapp.com/api/contacts/${contact.id}/comments","POST",{content:l}).then((function(e){n(t,e.comment),m("")})).catch((function(e){console.error("error submitting comment",e)}))}},r.a.createElement("h2",null,"Leave a comment for ",t.name),r.a.createElement("input",{type:"text",value:l,onChange:function(e){return m(e.target.value)}}),r.a.createElement("button",null,"Submit"),";")},d=function(e){var t=e.contacts,n=e.setActiveContact,a=e.removeOldContact,c=e.addComment,o=e.removeComment;return r.a.createElement("div",null,t.map((function(e,t){var u=e.name,l=e.email,m=e.address,i=e.phoneNumber,p=e.contactType;return r.a.createElement("div",{key:t},r.a.createElement("h2",null,u," (",p,")"),r.a.createElement("h5",null,"Email: ",l),r.a.createElement("h5",null,"Address: ",m),r.a.createElement("h5",null,"Phone Number: ",i),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return n(e)}},"Edit"),r.a.createElement("button",{onClick:function(){s("https://univ-contact-book.herokuapp.com/api/contacts/${contact.id}","Delete").then((function(t){a(e)})).catch((function(e){console.error("error removing contact",e)}))}},"Delete")),r.a.createElement(v,{contact:e,comments:e.comments,removeComment:o}),r.a.createElement(E,{contact:e,addComment:c}))})),";")};t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],l=Object(o.useState)(null),m=Object(c.a)(l,2),i=m[0],p=m[1];Object(o.useEffect)((function(){s("https://univ-contact-book.herokuapp.com/api/contacts").then((function(e){console.log("my contacts",e)})).catch((function(e){console.error("error fetching contacts",e)}))}),[]);return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(h,{activeContact:i,wipeActiveContact:function(){return p(null)},replaceContact:function(e,t){var a=n.map((function(n){return n===e?t:n}));u(a)}}):r.a.createElement(b,{addContact:function(e){e.comments=e.comments||[],u([].concat(Object(a.a)(n),[e]))}}),r.a.createElement(d,{contacts:n,setActiveContact:p,removeOldContact:function(e){return u(n.filter((function(t){return t!==e})))}}))}},7:function(e,t,n){e.exports=n(11)}},[[7,1,2]]]);
//# sourceMappingURL=main.22ff8f01.chunk.js.map